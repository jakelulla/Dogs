<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects</title>
    <link rel="stylesheet" href="../style/project-style.css">
    <script src="../script/script.js"></script>
</head>
<body>
    <div id = "sidebar-nav" class = "hidden">
        <button id="sidebar-nav-close" onclick="toggleNav()"><img src="../icons/close.svg"></button>
        <div class="flex-column">
            <a href="../index.html"><button>Home Page</button></a>
            <a href="./about.html"><button>About Me</button></a>
            <a href="./projects.html"><button>My Projects</button></a>
        </div>
    </div>

    <div class="flex-row" id="navbar">
        <div class="left-nav-container flex-row">
            <a href="../index.html">
                <img src="../img/icon.png">
            </a>
            <p>jakelulla@gmail.com  |  (201) 669-8846</p>
        </div>
        <div>
            <button class="hamburger-button" onclick="toggleNav()"><img src="../icons/menu.svg"></button>
        </div>
    </div>

    <div class="header-container flex-row">
        <marquee scrollamount = "15">
            <h1>
                SIMON SAYS
            </h1>
        </marquee>
    </div>
    <hr>

    <div class="page">
        <div class="section-1 flex-row">
            <p class="year-range">
                2024
            </p>

            <h3 class="project-title">
                SIMON SAYS
            </h3>
            <p class="description">
                Used arduino, breadboard, LEDs, push buttons, and resistors to create Simon Says games. Random sequence generated by arduino is then repeated by user through push buttons.
                The code allows for functionality of a score-keeping LED display, but I did not have this part to put into the physical design. It was implemented succesfully in a digital simulation.
                Below is a picture of my set up as well as a video of me playing a game. You can see that each round is started with rapid flashing lights before a sequence begins. 
            </p>
        </div>
    </div>

    <div class = "visuals">
        <video id = "video" width="320" height="240" controls>
            <source src="../IMG_3992.mov" type="video/mp4">
        </video>
        <div class = "imae">
            <img src = "../arduinoImage.png">
        </div>
    </div>

    <div class = "code">
        <p>
            Here is my code. To explain a little bit about it, I assigned variables for each button, LED, and speakerpin. I also assigned variables for the speakertone desired for each light color. I then created a function to randomly display a sequence, storing the values for later. The function takes in a list, originally empty, and adds a random color each time. This sequence is then displayed, and my update loop checks the progress of the player who is completing the sequence. I check to see if the hit the correct color. If not... game over!
        </p>
        <pre>
            <code>
                const int whiteButton = 0;
                const int yellowButton = 5;
                const int redButton = 8;
                const int greenButton = 3;
                const int blueButton = 4;

                const int whiteLED = A0;
                const int yellowLED = A1;
                const int redLED = A2;
                const int greenLED = A3;
                const int blueLED = A4;

                int speakerPin = 12;
                
                int whiteNote = 100;
                int yellowNote = 300;
                int redNote = 500;
                int greenNote = 700;
                int blueNote = 900;


                void setup() {
                pinMode(whiteButton, INPUT_PULLUP);
                pinMode(yellowButton, INPUT_PULLUP);
                pinMode(redButton, INPUT_PULLUP);
                pinMode(greenButton, INPUT_PULLUP);
                pinMode(blueButton, INPUT_PULLUP);

                randomSeed(analogRead(7));
                Serial.begin(9600);
                }

                void setLED(int led, int setting) {
                if (setting == 0){
                    analogWrite(led, 0);
                    noTone(speakerPin);
                }
                if (setting == 1){
                    analogWrite(led, 255);
                    if(led == A0){
                    tone(speakerPin, whiteNote);
                    }
                    if(led == A1){
                    tone(speakerPin, yellowNote);
                    }
                    if(led == A2){
                    tone(speakerPin, redNote);
                    }
                    if(led == A3){
                    tone(speakerPin, greenNote);
                    }
                    if(led == A4){
                    tone(speakerPin, blueNote);
                    }
                }
                }

                bool getButton(int button) {
                return digitalRead(button) == 0;
                }

                void turnOffAllLEDs() {
                setLED(whiteLED, 0);
                setLED(yellowLED, 0);
                setLED(redLED, 0);
                setLED(greenLED, 0);
                setLED(blueLED, 0);
                }

                void introSequence(){
                for(int i = 0; i < 40; i++){
                    int pin = random(0, 5);
                    setLED(pin + A0, 1);
                    delay(30 + (i/5));
                    turnOffAllLEDs();
                }
                }

                int* addColor(int* currList, int length) {
                int* pinList = new int[length];
                for(int i = 0; i < length; i++){
                    if(i != length-1) pinList[i] = currList[i];
                    else{
                    int pin = random(0, 5);
                    pinList[i] = pin;
                    }
                }
                for (int i = 0; i < length; i++) {
                    switch (pinList[i]) {
                    case 0:
                        setLED(whiteLED, 1);
                        Serial.println("white");
                        break;
                    case 1:
                        setLED(yellowLED, 1);
                        Serial.println("yellow");
                        break;
                    case 2:
                        setLED(redLED, 1);
                        Serial.println("red");
                        break;
                    case 3:
                        setLED(greenLED, 1);
                        Serial.println("green");
                        break;
                    case 4:
                        setLED(blueLED, 1);
                        Serial.println("blue");
                        break;
                    }
                    delay(1000);
                    turnOffAllLEDs();
                    delay(1000);
                }
                return pinList;
                }


                int currLength = 1;
                bool introMode = true;
                bool sequenceMode = false;
                bool playerMode = false;
                int index = 0;
                int counter = 0;
                bool gameOver = false;
                int* pinList;

                void loop() {
                if(introMode){
                    introSequence();
                    introMode = false;
                    sequenceMode = true;
                    delay(1000);
                }
                if (sequenceMode) {
                    pinList = addColor(pinList, currLength);
                    playerMode = true;
                    sequenceMode = false;
                }

                if (playerMode) {
                    int button = -1;

                    if (getButton(whiteButton)) button = 0;
                    if (getButton(yellowButton)) button = 1;
                    if (getButton(redButton)) button = 8;
                    if (getButton(greenButton)) button = 3;
                    if (getButton(blueButton)) button = 4;

                    if (button != -1) {
                    if(button != 8) setLED(button + whiteLED, 1);
                    else setLED(redLED, 1);
                    while(getButton(button)){
                        delay(500);
                    }
                    if (pinList[index] == button) {
                        counter++;
                        index++;
                    } else {
                        gameOver = true;
                    }
                    }

                    if (counter == currLength) {
                    Serial.println("Good");
                    delay(500);
                    turnOffAllLEDs();
                    counter = index = 0;
                    currLength++;
                    playerMode = false;
                    sequenceMode = true;
                    }

                    delay(400);
                    turnOffAllLEDs();
                }

                if (gameOver) {
                    Serial.println("Game Over");
                    delay(1500);
                    currLength = 1;
                    introMode = true;
                    gameOver = playerMode = sequenceMode = false;
                    index = counter = 0;
                }
                }
            </code>
          </pre>
    </div>



    <div class="page-num">
        <p>Arduino</p>
    </div>

    
</body>
</html>
